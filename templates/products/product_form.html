{% extends 'base.html' %}

{% block title %}{% if form.instance.pk %}Edit{% else %}Add{% endif %} Product - MyDuka{% endblock %}

{% block content %}
<h2>{% if form.instance.pk %}Edit{% else %}Add{% endif %} Product</h2>

<form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="mb-3">
        {{ form.category.label_tag }}
        {{ form.category }}
        {% if form.category.errors %}
        <div class="text-danger">{{ form.category.errors }}</div>
        {% endif %}
    </div>
    
    <div class="mb-3">
        {{ form.name.label_tag }}
        {{ form.name }}
        {% if form.name.errors %}
        <div class="text-danger">{{ form.name.errors }}</div>
        {% endif %}
    </div>
    
    <div class="mb-3">
        {{ form.slug.label_tag }}
        {{ form.slug }}
        <small class="text-muted">A unique URL-friendly identifier</small>
        {% if form.slug.errors %}
        <div class="text-danger">{{ form.slug.errors }}</div>
        {% endif %}
    </div>
    
    <div class="mb-3">
        {{ form.description.label_tag }}
        {{ form.description }}
        {% if form.description.errors %}
        <div class="text-danger">{{ form.description.errors }}</div>
        {% endif %}
    </div>
    
    <div class="row">
        <div class="col-md-6 mb-3">
            {{ form.price.label_tag }}
            {{ form.price }}
            {% if form.price.errors %}
            <div class="text-danger">{{ form.price.errors }}</div>
            {% endif %}
        </div>
        <div class="col-md-6 mb-3">
            {{ form.discount_price.label_tag }}
            {{ form.discount_price }}
            {% if form.discount_price.errors %}
            <div class="text-danger">{{ form.discount_price.errors }}</div>
            {% endif %}
        </div>
    </div>
    
    <div class="row">
        <div class="col-md-6 mb-3">
            {{ form.stock.label_tag }}
            {{ form.stock }}
            {% if form.stock.errors %}
            <div class="text-danger">{{ form.stock.errors }}</div>
            {% endif %}
        </div>
        <div class="col-md-6 mb-3">
            {{ form.available.label_tag }}
            <div class="form-check form-switch">
                {{ form.available }}
            </div>
            {% if form.available.errors %}
            <div class="text-danger">{{ form.available.errors }}</div>
            {% endif %}
        </div>
    </div>
    
    <div class="mb-3">
        {{ form.image.label_tag }}
        {{ form.image }}
        {% if form.image.errors %}
        <div class="text-danger">{{ form.image.errors }}</div>
        {% endif %}
    </div>
    
    <button type="submit" class="btn btn-primary">Save</button>
    <a href="{% if form.instance.pk %}{% url 'product_detail' form.instance.slug %}{% else %}{% url 'product_list' %}{% endif %}" class="btn btn-secondary">Cancel</a>
</form>
{% endblock %}